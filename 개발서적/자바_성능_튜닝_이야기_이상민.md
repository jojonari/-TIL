자바 성능 튜닝 이야기
=============================

> 도서 : 개발자가 반드시 알아야 할 자바 성능 튜닝 이야기
> 저자 : 이상민

1. 디자인 패턴은 꼭 써야 한다
  - MVC 패턴 : 뷰는 이벤트를 발생시키고 이벤트의 결과를 보여주는 역할, 모델은 뷰에서 입력된 내용을 저장, 관리, 수정하는 역할, 컨트롤러는 뷰와 모델의 연결자 역할이라고 생각하면 된다.
  - design pattern : 시스템을 만들기 위해서 전체 중 일부 의미 있는 클래스들을 묶은 각각의 집합을 디자인 패턴이라고 생각하면 된다.
    + 반복되는 의미 있는 집합을 정의하고 이름을 지정해서, 누가 이야기 하더라도 동일한 의미의 패턴이 되도록 만들어 놓은 것이다.
  - 꼭 알아야 할 기본적이고 실용적인 패턴
    + Business Delegate : 비지니스 서비스 접근을 캡슐화하는 패턴이다.
    + Service Locator : 서비스와 컴포넌트 검색을 쉽게 하는 패턴
    + Session Facade : 비지니스 티어 컴포넌트를 캡슐화하고, 원격 클라이언트에서 접근할 수 있는 서비스를 제공하는 패턴이다.
    + Transfer Object : 일명 Value Object 패턴이라고 많이 알려져 있다. 데이터를 전송하기 위한 객체에 대한 패턴이다.
    + Data Access Object :  일명 DAO라고 많이 알려져 있다. DB에 접근을 전담하는 클래스를 추상화하고 캡슐화 한다.
  - Serializable 인터페이스를 구현하면 객체를 직렬화할 수가 있다. 다시 말해 서버 사이의 데이터 전송이 가능해진다.

2. 내가 만든 프로그램의 속도를 알고 싶다.
  - 프로파일링 툴은 개발자용 툴이고, APM툴은 운영 환경용 툴이다.
  - 프로파일링 툴
    + 소스레벨의 분석을 위한 툴이다. (개발시 느린 메서드, 느린 클래스를 찾는 것을 주 목적으로 한다.)
    + 애플리 케이션의 세부 응답 시간까지 분석할 수 있다.
    + 메모리 사용량을 객체나 클래스, 소스의 라인 단위까지 분석할 수 있다.
    + 자바 기반의 클라이언트 프로그램 분석을 할 수 있다.
  - APM 툴
    + 애플리케이션의 장애 상황에 대한 모니터링 및 문제점 진단이 주 목적이다.
    + 서버의 사용자수나 리소스에 대한 모니터링을 할 수 있다.
    + 실시간 모니터링을 위한 툴이다.
    + 자바 기반의 클라이언트 프로그램 분석이 불가능하다.
  - Clock time : cpu 사용시간과 대기시간을 더한 실제 소요시간
  - JVM에서 사용할 수 있는 설정은 크게 두가지로 나뉜다.
    + 속성(property) : JVM에서 지정된 값들
    + 환경(Environment) : 장비(서버)에 지정되어 있는 값들 (흔히 env라고 한다.)
  - System.class의 절대 사용하면 안되는 메서드
    + gc() : 자바에서 사용하는 메모리를 명시적으로 해제하도록 GC를 수행하는 메서드
    + exit(int status) : 현재 수행중인 자바VM을 멈춘다.
    + runFinalization() : 가비지 콜렉터가 알아서 호출하는 finalize()를 수동으로 호출 해야 참조 해제 작업을 수행한다. (GC가 제대로 안된다.)

3. 왜 자꾸 String을 쓰지 말라는 거야.
  - 여러 이터레이션(iteration)에 걸쳐서 개발한다는 말은 하나의 프로젝트를 여러 차수에 걸쳐서 개발하는 방식이다.
  - StringBuffer 클래스는 스레드에 안전하게 설계되어 있으므로, 여러 개의 스레드에서 하나의 StringBuffer 객체를 처리해도 전혀 문제가 되지 않는다. 하지만 StringBuilder는 단일스레드에서의 안전성만을 보장한다.
  - 속도 테스트 결과
    + String은 짧은 문자열을 더할 경우 사용한다.
    + String + String 할경우 쓸데 없는 객체가 생성되서 GC가 자주 일어난다.
    + StringBuffer는 스레드에 안전한 프로그램이 필요할 때 사용한다.
    + StringBuilder는 스레드에 안전한지의 여부와 전혀 관계가 없는 프로그램을 개발할 때 사용한다.
    
