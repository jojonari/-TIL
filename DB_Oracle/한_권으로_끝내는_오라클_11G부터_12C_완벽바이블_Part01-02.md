한 권으로 끝내는 오라클 11G 부터 12C 완벽 바이블
===================================

> * 책 : 한 권으로 끝내는 오라클 11G 부터 12C 완벽 바이블 - 아티오
> - 책에 오타가 많다. 실습진행이 불가능하다.

> Part 01 작업환경 설정
> Part 02 오라클 SQL

1. 용어
  * CDB : 하나의 DB를 컨테이너로 보고 그 컨테이너를 담을 수 있는 DB
  * PDB : CDB에 끼워넣을 수 있는(Pluggable) DB 즉, CDB안에 있는 DB
  * 비CDB : PDB를 만들 수 없는 DB, 1개의 인스턴스+한 개의 DB구조
  * Transaction : 오라클 사용자로부터 요구된 작업 하나하나를 의미
    - 하나의 트랜젝션 : 마지막커밋이 발생한 이후부터 다음 커밋이 발생할 때까지의 사용자들이 데이터베이스에 대하여 실행한 작업을 의미
    - DDL의 경우 하나의 문장이 수행될 떄마다 자동커밋이 발생하므로 하나의 문장이 하나의 트랜젝션이라고 말할 수 있다.
  * Commit : 트랜젝션이 발생할는 경우 새롭게 생성되거나 갱신된 데이터를 변경사항정보(리두로그정보)를 임의의 디스크영역(리두로그파일)에  물리적으로 저장하는 과정
    - 커밋이 발생하기 전에는 모든 작업이 메모리에 존재하므로 데이터를 잃을 수도 있음
  * Rollback : 아직 커밋 되지 않은 트랜잭션들을 다시 원점으로 되돌려놓는다는 개념
    - 커밋된 데이터는 절대 롤백 되지 않음
  * SavePoint : 사용자가 일련의 트랜잭션을 진행하는 동안 일정한 시점에서 세이브 포인트를 지정하게 되면 이후에 임의의 트랜잭션을 롤백하려고 할 때 이전에 지정한 세이브 포인트 이후의 트랜잭션만을 롤백한다
  * Projection : 프로젝션 기능은 간단히 말하자면 오라클 사용자가 Select 문장을 사용할 때 컬럼을 선택할 수 있는 기능을 말한다.
  * `*` 에스트리스크 : 모든, all을 뜻함
  * Distinct : 중복제거
  * keyword : 오라클 예약어 - `select`, `from` 같은
  * clause(절) : 문장의 일부 - select절, from절 같은
  * statment(문장) : 여러절이 합쳐져 완성된 하나의 문장
  * Null : 비어있는 것도 아니고, 0(Zero)도 아닌 알 수 없는(Unknown) 값
    - 어떤 값이 조재는 하지만 어떤 값인지를 알수 없는 값
    - Null은 연산을 하여도 Null을 리턴
    - Null은ASC 정렬일때는 가장나중에, DESC정렬일때는 가장먼저 출력됨
  * Concatenation : `||`를 사용, 문장을 합쳐서 보여준다
  * DUAL : 오라클에서 제공하는 Dummy테이블
  * 인라인뷰 : from절에 서브쿼리를 사용해서 만든 뷰
  * RowId : 임의의 컬럼에 해당하는 로우 데이터가 물리적으로 데이터베이스 디스크 어딘가에 저장되어 있는지에 대한 주소
  * 시노님(Sysnonym)
    - 시노님은 오라클 객체(테이블, 뷰, 시퀀스, 프로시저)에 대한 대체이름(Alias)를 말하며, 실질적으로 그 자체가 객체가 아니라 객체에 대한 직접적인 참조이다.

2. Tip & tech
  * alias 사용시 ""를 사용하면 대소문자 구분, 특수문자사용이 가능
  * SQL에서 문자열과 날짜는 반드시 '' 싱글쿼테이션 안에 표기해야 한다
  * `<>`는  같지 않다를 표현
    - `=`의 반대
  * Group by
    - 컬럼 alias를 사용할 수 없다
    - 일반 컬럼 이름을 반드시 사용해야 한다
    - Avg, Sum과 같은 그룹함수는 Where절에 사용할 수 없다. 반드시 having절을 사용해야 한다.
  * SubQuery
    - 서브쿼리를 사용할 때 산출되는 값들 가운데 null 값이 포함되어 있을 가능성이 있다면 Not In 연산자는 사용하지 않는 것이 좋다.
  * DB Object
    - 테이블
    - 인덱스
    - 제약조건
    - 뷰
    - 시퀀스
    - 시노님(Synonym)
  * Entity(실체)
    - 주로 테이블 자체를 말하며 테이블 내의 컬럼들은 주로 각각의 실체를 가지는 속성이라고 간주
  * 데이터 딕셔너리 테이블 & 뷰
    - 딕셔너리 테이블을 쿼리하는 것은 불가능함
    - 딕셔너리 뷰를 쿼리 하여 정보를 획득
    - 오라클이 생성/관리
    - DBA_
    - ALL_
    - USER_
    - V$
  * 그룹 함수를 사용한 뷰는 Delete row가 안된다.
  * INDEX란?
    - 인텍스는 스키마 오브젝트중 하나이다.
      * 인덱스는 스키마 오브젝트중 하나로서 어떤 사용자가 생성했느냐에 따라 해당 인덱스에 대한 스키마가 정해진다.
    - 임의의 쿼리를 실행 할때 풀스캔을 하지 않고 RowId를 사용하여 원하는 로우데이터를 찾아온다.
    - 디스크 I/O를 감소시킴으로써 보다 빠른 검색이 가능토록 한다.
    - 오라클 서버에 의하여 관리된다.
    - 인덱스는 자동적으로 생성가능하다.
      * 임의의 컬럼에 Primary key 또는 Unique key 제한 조건을 설정하는 동시에 해당 컬럼에는 인덱스가 자동적으로 생성된다.
    - 인덱스는 인위적으로 생성 가능하다.
       * 프라이머리키 또는 유일키가 아닌 컬럼에는 인위적으로 인덱스를 생성해야 한다.
  * 인덱스가 필요할 때
    - 테이블에 저장된 로우가 많은 경우
    - 자주 쿼리되는 로우 데이터가 전체로우의 5% 미만인 경우
    - 특정컬럼이 테이블 조인시 자주 사용되는 경우
    - 특정컬럼이 널값을 많이 가지고 있는 경우
    - 특정 컬럼이 여러가지 다른 값들을 많이 가지는 경우(High cardinality)
  * 시노님을 사용하는 이유(http://www.gurubee.net/lecture/1038)
    - 데이터베이스의 투명성을 제공하기 위해서 사용 한다고 보면 된다. 시노님은 다른 유저의 객체를 참조할 때 많이 사용을 한다.
    - 만약에 실무에서 다른 유저의 객체를 참조할 경우가 있을 때 시노님을 생성해서 사용을 하면은 추후에 참조하고 있는 오프젝트가 이름을 바꾸거나 이동할 경우 객체를 사용하는 SQL문을 모두 다시 고치는 것이 아니라 시노님만 다시 정의하면 되기 때문에 매우 편리 하다.
    - 객체의 긴 이름을 사용하기 편한 짧은 이름으로 해서 SQL코딩을 단순화 시킬 수 있다.
    - 또한 객체를 참조하는 사용자의 오브젝트를 감추 수 있기 때문에 이에 대한 보안을 유지할 수 있다. 시노님을 사용하는 유저는 참조하고 있는 객체를에 대한 소유자, 이름, 서버이름을 모르고 시노님 이름만 알아도 사용 할 수 있다.
  * 시노님을 사용하는 경우
    - 객체의 실제 이름과 소유자 그리고 위치를 감춤으로써 데이터베이스 보안을 개선하는데 사용 한다
    - 객체의 Public Access를 제공 한다
    - Remote 데이터베이스의 TABLE, VIEW, PROGRAM UNIT를 위해 투명성을 제공 한다.
    - 데이터베이스 사용자를 위해 SQL 문을 단순화 할 수 있다.
  * 시노님의 두 가지 종류
    - Private Synonym : 전용 시노님은 특정 사용자만 이용할수 있다.
    - Public Synonym : 공용 시노님은 공용 사용자 그룹이 소유하며 그 데이터베이스에 있는 모든 사용자가 공유 한다.
